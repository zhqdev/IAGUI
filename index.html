<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RobloxAI - G√©n√©rateur de GUI Intelligent</title>
    <meta name="description" content="Cr√©ez des interfaces Roblox professionnelles avec l'aide de l'intelligence artificielle. G√©n√©rez du code Lua et des √©l√©ments visuels pour vos GUIs.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom CSS -->
    <style>
        :root {
            --roblox-blue: #00A2FF;
            --roblox-darkblue: #0080CC;
            --roblox-dark: #0D1117;
            --roblox-darker: #010409;
            --roblox-gray: #21262D;
            --roblox-light: #F6F8FA;
        }
        
        body {
            background: linear-gradient(135deg, var(--roblox-darker) 0%, var(--roblox-dark) 50%, var(--roblox-gray) 100%);
            color: #F6F8FA;
            font-family: 'Inter', sans-serif;
        }
        
        .glow-border {
            border: 1px solid rgba(0, 162, 255, 0.3);
            box-shadow: 0 0 20px rgba(0, 162, 255, 0.1);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .animate-glow {
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes glow {
            from { box-shadow: 0 0 20px rgba(0, 162, 255, 0.3); }
            to { box-shadow: 0 0 30px rgba(0, 162, 255, 0.6), 0 0 40px rgba(0, 162, 255, 0.3); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--roblox-blue) 0%, #8B5CF6 100%);
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 162, 255, 0.3);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }
        
        .card {
            background: linear-gradient(135deg, rgba(33, 38, 45, 0.8) 0%, rgba(13, 17, 23, 0.6) 100%);
            border: 1px solid rgba(0, 162, 255, 0.3);
            border-radius: 12px;
            padding: 24px;
            backdrop-filter: blur(10px);
        }
        
        .input-field {
            background: rgba(33, 38, 45, 0.8);
            border: 1px solid rgba(107, 114, 126, 0.5);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            width: 100%;
            transition: border-color 0.3s ease;
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--roblox-blue);
            box-shadow: 0 0 0 3px rgba(0, 162, 255, 0.1);
        }
        
        .select-field {
            background: rgba(33, 38, 45, 0.8);
            border: 1px solid rgba(107, 114, 126, 0.5);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            width: 100%;
            cursor: pointer;
        }
        
        .code-display {
            background: linear-gradient(135deg, var(--roblox-darker) 0%, var(--roblox-gray) 100%);
            border: 1px solid rgba(0, 162, 255, 0.2);
            border-radius: 8px;
            padding: 16px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.5;
            color: #E6EDF3;
            overflow-x: auto;
            white-space: pre-wrap;
        }
        
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 162, 255, 0.9);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }
        
        .toast.show {
            transform: translateX(0);
        }
        
        .toast.error {
            background: rgba(239, 68, 68, 0.9);
        }
        
        .toast.success {
            background: rgba(16, 185, 129, 0.9);
        }
        
        .loading-spinner {
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid var(--roblox-blue);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body class="min-h-screen">
    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <span id="toast-message"></span>
    </div>

    <!-- Header Navigation -->
    <header class="border-b border-gray-700 bg-black/50 backdrop-blur-md sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center animate-glow">
                        <i data-lucide="box" class="text-white text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-blue-400">RobloxAI</h1>
                        <p class="text-sm text-gray-400">G√©n√©rateur de GUI Intelligent</p>
                    </div>
                </div>
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="#generator" class="text-gray-300 hover:text-blue-400 transition-colors">Cr√©ateur</a>
                    <a href="#templates" class="text-gray-300 hover:text-blue-400 transition-colors">Templates</a>
                    <button class="btn-primary" onclick="scrollToSection('generator')">Commencer</button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="py-20 px-6">
        <div class="container mx-auto text-center">
            <div class="animate-float mb-8">
                <div class="w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl mx-auto flex items-center justify-center mb-6 animate-glow">
                    <i data-lucide="wand-sparkles" class="text-white text-3xl"></i>
                </div>
            </div>
            <h1 class="text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-blue-400 bg-clip-text text-transparent">
                Cr√©ez des GUIs Roblox
                <span class="block">avec l'IA</span>
            </h1>
            <p class="text-xl text-gray-300 mb-8 max-w-3xl mx-auto leading-relaxed">
                Cr√©ez des boutons et √©l√©ments visuels personnalis√©s pour vos interfaces Roblox avec des gradients, effets et animations avanc√©s.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button 
                    class="btn-primary px-8 py-4 text-lg font-semibold animate-glow"
                    onclick="scrollToSection('generator')"
                >
                    <i data-lucide="rocket" class="inline mr-2"></i>
                    Commencer Maintenant
                </button>
                <button class="btn-secondary px-8 py-4 text-lg font-semibold">
                    <i data-lucide="play-circle" class="inline mr-2"></i>
                    Voir la D√©mo
                </button>
            </div>
        </div>
    </section>

    <!-- Main Features Grid -->
    <section class="py-16 px-6" id="generator">
        <div class="container mx-auto">
            <div class="max-w-4xl mx-auto">
                <!-- Advanced Image Creator -->
                <div class="card">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-3xl font-bold text-blue-400 flex items-center">
                            <i data-lucide="image" class="mr-3"></i>
                            Cr√©ateur d'Images Avanc√©
                        </h2>
                        <span class="bg-purple-500/20 text-purple-400 px-3 py-1 rounded-full text-sm">Canvas Pro</span>
                    </div>
                    
                    <div class="grid lg:grid-cols-2 gap-8">
                        <!-- Left Panel - Controls -->
                        <div class="space-y-6">
                            <!-- Preset Buttons -->
                            <div>
                                <h3 class="text-lg font-semibold text-white mb-3">Templates de Base</h3>
                                <div class="grid grid-cols-2 gap-3">
                                    <button onclick="createPresetButton('play')" class="btn-secondary py-3 hover:bg-blue-500/20">
                                        <span class="mr-2">‚ñ∂Ô∏è</span>PLAY
                                    </button>
                                    <button onclick="createPresetButton('shop')" class="btn-secondary py-3 hover:bg-purple-500/20">
                                        <span class="mr-2">üõí</span>SHOP
                                    </button>
                                    <button onclick="createPresetButton('settings')" class="btn-secondary py-3 hover:bg-green-500/20">
                                        <span class="mr-2">‚öôÔ∏è</span>CONFIG
                                    </button>
                                    <button onclick="createPresetButton('profile')" class="btn-secondary py-3 hover:bg-yellow-500/20">
                                        <span class="mr-2">üë§</span>PROFIL
                                    </button>
                                    <button onclick="createPresetButton('premium')" class="btn-secondary py-3 hover:bg-gold-500/20">
                                        <span class="mr-2">‚≠ê</span>PREMIUM
                                    </button>
                                    <button onclick="createPresetButton('exit')" class="btn-secondary py-3 hover:bg-red-500/20">
                                        <span class="mr-2">üö™</span>SORTIR
                                    </button>
                                </div>
                            </div>

                            <!-- Text and Icon Customization -->
                            <div class="bg-gray-800/30 rounded-lg p-4">
                                <h3 class="text-lg font-semibold text-white mb-3">Contenu</h3>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-gray-300 mb-2">Texte</label>
                                        <input 
                                            type="text" 
                                            id="customText" 
                                            class="input-field" 
                                            value="VOTRE TEXTE"
                                            oninput="updateButton()"
                                        >
                                    </div>
                                    <div>
                                        <label class="block text-gray-300 mb-2">Taille du texte</label>
                                        <input 
                                            type="range" 
                                            id="textSize" 
                                            min="10" 
                                            max="50" 
                                            value="22" 
                                            class="w-full" 
                                            oninput="updateButton()"
                                        >
                                    </div>
                                    <div>
                                        <label class="block text-gray-300 mb-2">Position de l'image/emoji</label>
                                        <select id="iconPosition" class="select-field text-sm" onchange="updateButton()">
                                            <option value="top">En haut</option>
                                            <option value="left">√Ä gauche</option>
                                            <option value="right">√Ä droite</option>
                                            <option value="bottom">En bas</option>
                                            <option value="center">Centr√©</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-gray-300 mb-2">D√©calage X de l'image</label>
                                        <input 
                                            type="range" 
                                            id="imageOffsetX" 
                                            min="-50" 
                                            max="50" 
                                            value="0" 
                                            class="w-full" 
                                            oninput="updateButton()"
                                        >
                                    </div>
                                    <div>
                                        <label class="block text-gray-300 mb-2">D√©calage Y de l'image</label>
                                        <input 
                                            type="range" 
                                            id="imageOffsetY" 
                                            min="-50" 
                                            max="50" 
                                            value="0" 
                                            class="w-full" 
                                            oninput="updateButton()"
                                        >
                                    </div>
                                    <div>
                                        <label class="block text-gray-300 mb-2">Opacit√© de l'image</label>
                                        <input 
                                            type="range" 
                                            id="imageOpacity" 
                                            min="0" 
                                            max="1" 
                                            step="0.1" 
                                            value="1" 
                                            class="w-full" 
                                            oninput="updateButton()"
                                        >
                                    </div>
                                    <div>
                                        <label class="block text-gray-300 mb-2">Image/Ic√¥ne</label>
                                        <div class="space-y-2">
                                            <input 
                                                type="file" 
                                                id="imageFile" 
                                                accept="image/*"
                                                class="input-field"
                                                onchange="handleImageUpload()"
                                                style="padding: 8px;"
                                            >
                                            <div class="text-center text-gray-400 text-sm">ou</div>
                                            <input 
                                                type="text" 
                                                id="imageUrl" 
                                                class="input-field" 
                                                placeholder="https://example.com/icon.png"
                                                oninput="updateButton()"
                                            >
                                            <div class="grid grid-cols-3 gap-2 mt-2">
                                                <button onclick="setImageUrl('https://picsum.photos/200/200?random=1')" class="bg-gray-700 hover:bg-gray-600 p-2 rounded text-xs text-gray-300">Image 1</button>
                                                <button onclick="setImageUrl('https://picsum.photos/200/200?random=2')" class="bg-gray-700 hover:bg-gray-600 p-2 rounded text-xs text-gray-300">Image 2</button>
                                                <button onclick="setImageUrl('https://picsum.photos/200/200?random=3')" class="bg-gray-700 hover:bg-gray-600 p-2 rounded text-xs text-gray-300">Image 3</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-gray-300 mb-2">Taille de l'image/emoji</label>
                                        <input 
                                            type="range" 
                                            id="iconSize" 
                                            min="10" 
                                            max="80" 
                                            value="35" 
                                            class="w-full" 
                                            oninput="updateButton()"
                                        >
                                    </div>
                                    <div>
                                        <label class="block text-gray-300 mb-2">Emoji/Ic√¥ne</label>
                                        <div class="grid grid-cols-6 gap-2">
                                            <button onclick="setEmoji('‚ö°')" class="bg-gray-700 hover:bg-gray-600 p-2 rounded text-xl">‚ö°</button>
                                            <button onclick="setEmoji('üî•')" class="bg-gray-700 hover:bg-gray-600 p-2 rounded text-xl">üî•</button>
                                            <button onclick="setEmoji('üíé')" class="bg-gray-700 hover:bg-gray-600 p-2 rounded text-xl">üíé</button>
                                            <button onclick="setEmoji('üéØ')" class="bg-gray-700 hover:bg-gray-600 p-2 rounded text-xl">üéØ</button>
                                            <button onclick="setEmoji('üèÜ')" class="bg-gray-700 hover:bg-gray-600 p-2 rounded text-xl">üèÜ</button>
                                            <button onclick="setEmoji('üéÆ')" class="bg-gray-700 hover:bg-gray-600 p-2 rounded text-xl">üéÆ</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Style Options -->
                            <div class="bg-gray-800/30 rounded-lg p-4">
                                <h3 class="text-lg font-semibold text-white mb-3">Style</h3>
                                <div class="grid grid-cols-2 gap-3 mb-4">
                                    <div>
                                        <label class="block text-xs text-gray-400 mb-1">Forme</label>
                                        <select id="buttonShape" class="select-field text-sm" onchange="updateButton()">
                                            <option value="rounded">Arrondi</option>
                                            <option value="rectangle">Rectangle</option>
                                            <option value="circle">Cercle</option>
                                            <option value="hexagon">Hexagone</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-400 mb-1">Taille</label>
                                        <select id="buttonSize" class="select-field text-sm" onchange="updateButton()">
                                            <option value="small">Petit</option>
                                            <option value="normal">Normal</option>
                                            <option value="large">Large</option>
                                            <option value="xl">Extra Large</option>
                                        </select>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-400 mb-1">Style de bordure</label>
                                    <select id="borderStyle" class="select-field text-sm" onchange="updateButton()">
                                        <option value="solid">Solide</option>
                                        <option value="dashed">Tirets</option>
                                        <option value="dotted">Points</option>
                                        <option value="none">Aucun</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-400 mb-1 mt-3">√âpaisseur de la bordure</label>
                                    <input 
                                        type="range" 
                                        id="borderWidth" 
                                        min="0" 
                                        max="10" 
                                        value="1" 
                                        class="w-full" 
                                        oninput="updateButton()"
                                    >
                                </div>
                            </div>

                            <!-- Colors and Gradients -->
                            <div class="bg-gray-800/30 rounded-lg p-4">
                                <h3 class="text-lg font-semibold text-white mb-3">Couleurs & Gradients</h3>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-xs text-gray-400 mb-1">Type de fond</label>
                                        <select id="backgroundType" class="select-field text-sm" onchange="updateButton()">
                                            <option value="solid">Couleur unie</option>
                                            <option value="gradient">Gradient</option>
                                            <option value="glow">Glow</option>
                                            <option value="rainbow">Arc-en-ciel</option>
                                        </select>
                                    </div>
                                    <div class="grid grid-cols-2 gap-3">
                                        <div>
                                            <label class="block text-xs text-gray-400 mb-1">Couleur 1</label>
                                            <input type="color" id="color1" class="w-full h-8 border border-gray-600 rounded" value="#00A2FF" onchange="updateButton()">
                                        </div>
                                        <div>
                                            <label class="block text-xs text-gray-400 mb-1">Couleur 2</label>
                                            <input type="color" id="color2" class="w-full h-8 border border-gray-600 rounded" value="#8B5CF6" onchange="updateButton()">
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-400 mb-1">Couleur du texte</label>
                                        <input type="color" id="textColor" class="w-full h-8 border border-gray-600 rounded" value="#FFFFFF" onchange="updateButton()">
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-400 mb-1">Couleur de la bordure</label>
                                        <input type="color" id="borderColor" class="w-full h-8 border border-gray-600 rounded" value="#00A2FF" onchange="updateButton()">
                                    </div>
                                </div>
                                
                                <!-- Gradient Presets -->
                                <div class="mt-4">
                                    <label class="block text-xs text-gray-400 mb-2">Gradients Pr√©d√©finis</label>
                                    <div class="grid grid-cols-4 gap-2">
                                        <button onclick="applyGradient(['#FF6B6B', '#4ECDC4'])" class="h-8 rounded" style="background: linear-gradient(45deg, #FF6B6B, #4ECDC4)"></button>
                                        <button onclick="applyGradient(['#667eea', '#764ba2'])" class="h-8 rounded" style="background: linear-gradient(45deg, #667eea, #764ba2)"></button>
                                        <button onclick="applyGradient(['#f093fb', '#f5576c'])" class="h-8 rounded" style="background: linear-gradient(45deg, #f093fb, #f5576c)"></button>
                                        <button onclick="applyGradient(['#4facfe', '#00f2fe'])" class="h-8 rounded" style="background: linear-gradient(45deg, #4facfe, #00f2fe)"></button>
                                        <button onclick="applyGradient(['#43e97b', '#38f9d7'])" class="h-8 rounded" style="background: linear-gradient(45deg, #43e97b, #38f9d7)"></button>
                                        <button onclick="applyGradient(['#fa709a', '#fee140'])" class="h-8 rounded" style="background: linear-gradient(45deg, #fa709a, #fee140)"></button>
                                        <button onclick="applyGradient(['#a8edea', '#fed6e3'])" class="h-8 rounded" style="background: linear-gradient(45deg, #a8edea, #fed6e3)"></button>
                                        <button onclick="applyGradient(['#ff9a9e', '#fecfef'])" class="h-8 rounded" style="background: linear-gradient(45deg, #ff9a9e, #fecfef)"></button>
                                    </div>
                                </div>
                            </div>

                            <!-- Effects -->
                            <div class="bg-gray-800/30 rounded-lg p-4">
                                <h3 class="text-lg font-semibold text-white mb-3">Effets</h3>
                                <div class="space-y-3">
                                    <div>
                                        <label class="flex items-center">
                                            <input type="checkbox" id="glowEffect" class="mr-2" onchange="updateButton()">
                                            <span class="text-gray-300">Effet Glow</span>
                                        </label>
                                    </div>
                                    <div>
                                        <label class="flex items-center">
                                            <input type="checkbox" id="shadowEffect" class="mr-2" onchange="updateButton()">
                                            <span class="text-gray-300">Ombre port√©e</span>
                                        </label>
                                    </div>
                                    <div>
                                        <label class="flex items-center">
                                            <input type="checkbox" id="strokeEffect" class="mr-2" onchange="updateButton()">
                                            <span class="text-gray-300">Contour (Stroke)</span>
                                        </label>
                                    </div>
                                    <div>
                                        <label class="flex items-center">
                                            <input type="checkbox" id="animatedEffect" class="mr-2" onchange="updateButton()">
                                            <span class="text-gray-300">Animation</span>
                                        </label>
                                    </div>
                                    <div>
                                        <label class="flex items-center">
                                            <input type="checkbox" id="hoverEffect" class="mr-2" onchange="updateButton()">
                                            <span class="text-gray-300">Effet Hover</span>
                                        </label>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-400 mb-1">Intensit√© de l'effet</label>
                                        <input type="range" id="effectIntensity" min="0" max="100" value="50" class="w-full" onchange="updateButton()">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right Panel - Preview and Export -->
                        <div class="space-y-6">
                            <!-- Canvas Preview -->
                            <div class="bg-gray-900 rounded-lg p-6">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-lg font-semibold text-white">Aper√ßu en Temps R√©el</h3>
                                    <div class="flex space-x-2">
                                        <button onclick="refreshCanvas()" class="btn-secondary p-2" title="Actualiser">
                                            <i data-lucide="rotate-ccw" class="inline"></i>
                                        </button>
                                        <button onclick="clearCanvas()" class="btn-secondary p-2" title="Effacer">
                                            <i data-lucide="trash-2" class="inline"></i>
                                        </button>
                                    </div>
                                </div>
                                <canvas 
                                    id="buttonCanvas" 
                                    width="400" 
                                    height="300" 
                                    class="w-full border border-gray-600 rounded bg-gray-800"
                                ></canvas>
                            </div>

                            <!-- Export Options -->
                            <div class="bg-gray-800/30 rounded-lg p-4">
                                <h3 class="text-lg font-semibold text-white mb-3">Export & T√©l√©chargement</h3>
                                <div class="grid grid-cols-2 gap-3 mb-4">
                                    <button onclick="downloadImage('png')" class="bg-green-600 hover:bg-green-700 py-3 font-medium transition-colors rounded-lg text-white">
                                        <i data-lucide="download" class="inline mr-2"></i>
                                        PNG HD
                                    </button>
                                    <button onclick="downloadImage('jpeg')" class="bg-purple-600 hover:bg-purple-700 py-3 font-medium transition-colors rounded-lg text-white">
                                        <i data-lucide="download" class="inline mr-2"></i>
                                        JPG
                                    </button>
                                </div>
                                <div class="grid grid-cols-1 gap-3">
                                    <button onclick="generateRobloxCode()" class="bg-blue-600 hover:bg-blue-700 py-3 font-medium transition-colors rounded-lg text-white">
                                        <i data-lucide="code" class="inline mr-2"></i>
                                        G√©n√©rer Code Roblox
                                    </button>
                                </div>
                            </div>

                            <!-- Generated Code Display -->
                            <div id="robloxCodeOutput" class="bg-gray-800/30 rounded-lg p-4 hidden">
                                <div class="flex items-center justify-between mb-3">
                                    <h3 class="text-lg font-semibold text-white">Code Roblox G√©n√©r√©</h3>
                                    <button onclick="copyRobloxCode()" class="btn-secondary">
                                        <i data-lucide="copy" class="inline mr-1"></i>
                                        Copier
                                    </button>
                                </div>
                                <div id="robloxCode" class="code-display text-sm max-h-60 overflow-y-auto"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Templates Section -->
    <section class="py-16 px-6 bg-black/30" id="templates">
        <div class="container mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-blue-400 mb-4">Templates Pr√™ts √† Utiliser</h2>
                <p class="text-gray-300 text-lg">Choisissez parmi nos mod√®les pr√©d√©finis pour commencer rapidement</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Template 1: Gaming Menu -->
                <div class="card hover:scale-105 transition-all cursor-pointer">
                    <div class="h-48 bg-gradient-to-br from-red-500 to-orange-500 relative flex items-center justify-center rounded-lg mb-4">
                        <div class="text-center">
                            <div class="bg-white/20 backdrop-blur px-6 py-3 rounded-lg mb-2">
                                <i data-lucide="gamepad-2" class="text-white text-2xl"></i>
                            </div>
                            <h3 class="text-white font-bold uppercase tracking-wide">GAMING</h3>
                        </div>
                        <span class="absolute top-3 right-3 bg-green-500 text-white px-2 py-1 rounded text-xs">Populaire</span>
                    </div>
                    <h3 class="font-semibold text-white mb-2">Menu Gaming Moderne</h3>
                    <p class="text-gray-400 text-sm mb-3">Interface compl√®te avec boutons anim√©s et effets visuels</p>
                    <div class="flex justify-between items-center">
                        <span class="text-blue-400 text-sm">4 composants</span>
                        <button onclick="useTemplate('gaming')" class="btn-primary">Utiliser</button>
                    </div>
                </div>

                <!-- Template 2: Shop Interface -->
                <div class="card hover:scale-105 transition-all cursor-pointer">
                    <div class="h-48 bg-gradient-to-br from-purple-500 to-pink-500 relative flex items-center justify-center rounded-lg mb-4">
                        <div class="text-center">
                            <div class="bg-white/20 backdrop-blur px-6 py-3 rounded-lg mb-2">
                                <i data-lucide="shopping-bag" class="text-white text-2xl"></i>
                            </div>
                            <h3 class="text-white font-bold uppercase tracking-wide">SHOP</h3>
                        </div>
                    </div>
                    <h3 class="font-semibold text-white mb-2">Interface Boutique</h3>
                    <p class="text-gray-400 text-sm mb-3">Syst√®me complet de boutique avec grille d'objets</p>
                    <div class="flex justify-between items-center">
                        <span class="text-blue-400 text-sm">3 composants</span>
                        <button onclick="useTemplate('shop')" class="btn-primary">Utiliser</button>
                    </div>
                </div>

                <!-- Template 3: Settings Panel -->
                <div class="card hover:scale-105 transition-all cursor-pointer">
                    <div class="h-48 bg-gradient-to-br from-blue-500 to-cyan-500 relative flex items-center justify-center rounded-lg mb-4">
                        <div class="text-center">
                            <div class="bg-white/20 backdrop-blur px-6 py-3 rounded-lg mb-2">
                                <i data-lucide="settings" class="text-white text-2xl"></i>
                            </div>
                            <h3 class="text-white font-bold uppercase tracking-wide">SETTINGS</h3>
                        </div>
                    </div>
                    <h3 class="font-semibold text-white mb-2">Panneau de Param√®tres</h3>
                    <p class="text-gray-400 text-sm mb-3">Interface de configuration avec sliders et toggles</p>
                    <div class="flex justify-between items-center">
                        <span class="text-blue-400 text-sm">5 composants</span>
                        <button onclick="useTemplate('settings')" class="btn-primary">Utiliser</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="border-t border-gray-700 bg-black/50 py-12 px-6">
        <div class="container mx-auto">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center">
                            <i data-lucide="box" class="text-white"></i>
                        </div>
                        <span class="text-xl font-bold text-blue-400">RobloxAI</span>
                    </div>
                    <p class="text-gray-400 text-sm leading-relaxed">
                        Cr√©ez des interfaces Roblox professionnelles avec l'aide de l'intelligence artificielle.
                    </p>
                </div>
                <div>
                    <h4 class="font-semibold text-white mb-4">Outils</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#generator" class="hover:text-blue-400 transition-colors">G√©n√©rateur de Code</a></li>
                        <li><a href="#editor" class="hover:text-blue-400 transition-colors">Cr√©ateur d'Images</a></li>
                        <li><a href="#templates" class="hover:text-blue-400 transition-colors">Templates</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-white mb-4">Ressources</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-blue-400 transition-colors">Documentation</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">Tutoriels</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">Exemples</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-white mb-4">Support</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-blue-400 transition-colors">Centre d'aide</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">Contact</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">Discord</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-400 text-sm">¬© 2024 RobloxAI. Tous droits r√©serv√©s.</p>
                <div class="flex space-x-6 mt-4 md:mt-0 text-gray-400">
                    <a href="#" class="hover:text-blue-400 transition-colors">Discord</a>
                    <a href="#" class="hover:text-blue-400 transition-colors">GitHub</a>
                    <a href="#" class="hover:text-blue-400 transition-colors">Twitter</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Global variables
        let currentButton = {
            text: "VOTRE TEXTE",
            emoji: "",
            imageUrl: "",
            backgroundColor: "#00A2FF",
            textColor: "#FFFFFF",
            glowColor: "rgba(0, 162, 255, 0.5)",
            shape: "rounded",
            size: "normal",
            backgroundType: "solid",
            color1: "#00A2FF",
            color2: "#8B5CF6",
            iconPosition: "top",
            textSize: 22,
            iconSize: 35,
            imageOffsetX: 0,
            imageOffsetY: 0,
            imageOpacity: 1,
            borderStyle: "solid",
            borderWidth: 1,
            borderColor: "#00A2FF",
            effects: {
                glow: false,
                shadow: false,
                stroke: false,
                animated: false,
                hover: false
            },
            intensity: 50
        };
        let canvas = null;
        let ctx = null;
        let loadedImage = null;
        let animationFrame = null;
        let isHovering = false;

        // Initialize canvas
        function initCanvas() {
            canvas = document.getElementById('buttonCanvas');
            ctx = canvas.getContext('2d');
            canvas.addEventListener('mouseenter', () => {
                if (currentButton.effects.hover) {
                    isHovering = true;
                    updateButton();
                }
            });
            canvas.addEventListener('mouseleave', () => {
                if (currentButton.effects.hover) {
                    isHovering = false;
                    updateButton();
                }
            });
            createPresetButton('play');
        }

        // Toast notification
        function showToast(message, type = 'info') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toast-message');
            
            toastMessage.textContent = message;
            toast.className = `toast show ${type}`;
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Scroll to section
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
        }

        // Advanced Canvas button creation
        function createPresetButton(type) {
            const presets = {
                play: {
                    text: "PLAY",
                    emoji: "‚ñ∂Ô∏è",
                    backgroundColor: "#00A2FF",
                    textColor: "#FFFFFF",
                    color1: "#00A2FF",
                    color2: "#0080CC",
                    iconPosition: "left",
                    textSize: 22,
                    iconSize: 35,
                    imageOffsetX: 0,
                    imageOffsetY: 0,
                    imageOpacity: 1,
                    borderStyle: "solid",
                    borderWidth: 1,
                    borderColor: "#00A2FF"
                },
                shop: {
                    text: "SHOP",
                    emoji: "üõí",
                    backgroundColor: "#8B5CF6",
                    textColor: "#FFFFFF",
                    color1: "#8B5CF6",
                    color2: "#7C3AED",
                    iconPosition: "left",
                    textSize: 22,
                    iconSize: 35,
                    imageOffsetX: 0,
                    imageOffsetY: 0,
                    imageOpacity: 1,
                    borderStyle: "solid",
                    borderWidth: 1,
                    borderColor: "#8B5CF6"
                },
                settings: {
                    text: "SETTINGS",
                    emoji: "‚öôÔ∏è",
                    backgroundColor: "#10B981",
                    textColor: "#FFFFFF",
                    color1: "#10B981",
                    color2: "#059669",
                    iconPosition: "left",
                    textSize: 22,
                    iconSize: 35,
                    imageOffsetX: 0,
                    imageOffsetY: 0,
                    imageOpacity: 1,
                    borderStyle: "solid",
                    borderWidth: 1,
                    borderColor: "#10B981"
                },
                profile: {
                    text: "PROFILE",
                    emoji: "üë§",
                    backgroundColor: "#F59E0B",
                    textColor: "#FFFFFF",
                    color1: "#F59E0B",
                    color2: "#D97706",
                    iconPosition: "left",
                    textSize: 22,
                    iconSize: 35,
                    imageOffsetX: 0,
                    imageOffsetY: 0,
                    imageOpacity: 1,
                    borderStyle: "solid",
                    borderWidth: 1,
                    borderColor: "#F59E0B"
                },
                premium: {
                    text: "PREMIUM",
                    emoji: "‚≠ê",
                    backgroundColor: "#FFD700",
                    textColor: "#000000",
                    color1: "#FFD700",
                    color2: "#FFA500",
                    iconPosition: "left",
                    textSize: 22,
                    iconSize: 35,
                    imageOffsetX: 0,
                    imageOffsetY: 0,
                    imageOpacity: 1,
                    borderStyle: "solid",
                    borderWidth: 1,
                    borderColor: "#FFD700"
                },
                exit: {
                    text: "SORTIR",
                    emoji: "üö™",
                    backgroundColor: "#EF4444",
                    textColor: "#FFFFFF",
                    color1: "#EF4444",
                    color2: "#DC2626",
                    iconPosition: "left",
                    textSize: 22,
                    iconSize: 35,
                    imageOffsetX: 0,
                    imageOffsetY: 0,
                    imageOpacity: 1,
                    borderStyle: "solid",
                    borderWidth: 1,
                    borderColor: "#EF4444"
                }
            };

            const preset = presets[type] || presets.play;
            currentButton = { ...currentButton, ...preset, imageUrl: "", emoji: preset.emoji };
            
            document.getElementById('customText').value = currentButton.text;
            document.getElementById('color1').value = currentButton.color1;
            document.getElementById('color2').value = currentButton.color2;
            document.getElementById('textColor').value = currentButton.textColor;
            document.getElementById('iconPosition').value = currentButton.iconPosition;
            document.getElementById('textSize').value = currentButton.textSize;
            document.getElementById('iconSize').value = currentButton.iconSize;
            document.getElementById('imageOffsetX').value = currentButton.imageOffsetX;
            document.getElementById('imageOffsetY').value = currentButton.imageOffsetY;
            document.getElementById('imageOpacity').value = currentButton.imageOpacity;
            document.getElementById('borderStyle').value = currentButton.borderStyle;
            document.getElementById('borderWidth').value = currentButton.borderWidth;
            document.getElementById('borderColor').value = currentButton.borderColor;
            document.getElementById('imageUrl').value = "";
            document.getElementById('imageFile').value = ""; // Clear file input
            
            updateButton();
        }

        // Set emoji
        function setEmoji(emoji) {
            currentButton.emoji = emoji;
            currentButton.imageUrl = ""; // Clear image URL
            document.getElementById('imageUrl').value = "";
            document.getElementById('imageFile').value = "";
            loadedImage = null;
            updateButton();
        }

        // Handle image file upload
        function handleImageUpload() {
            const fileInput = document.getElementById('imageFile');
            const file = fileInput.files[0];

            if (file) {
                // Check file size (max 5MB)
                if (file.size > 5 * 1024 * 1024) {
                    showToast('Image trop volumineuse. Maximum 5MB.', 'error');
                    fileInput.value = ''; // Clear input
                    return;
                }

                // Check file type
                if (!file.type.startsWith('image/')) {
                    showToast('Veuillez s√©lectionner une image valide.', 'error');
                    fileInput.value = ''; // Clear input
                    return;
                }

                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = new Image();
                    img.src = e.target.result;
                    img.onload = function() {
                        loadedImage = img;
                        currentButton.imageUrl = e.target.result;
                        currentButton.emoji = ""; // Clear emoji
                        document.getElementById('imageUrl').value = 'Image locale charg√©e';
                        updateButton();
                        showToast('Image charg√©e avec succ√®s!', 'success');
                    };
                    img.onerror = function() {
                        showToast('Erreur lors du chargement de l\'image locale.', 'error');
                        fileInput.value = '';
                    };
                };
                reader.onerror = function() {
                    showToast('Erreur lors de la lecture du fichier.', 'error');
                    fileInput.value = '';
                };
                reader.readAsDataURL(file);
            }
        }

        // Set image URL from preset
        function setImageUrl(url) {
            currentButton.imageUrl = url;
            currentButton.emoji = ""; // Clear emoji
            document.getElementById('imageUrl').value = url;
            document.getElementById('imageFile').value = ""; // Clear file input

            // Load the image to ensure it is accessible
            const img = new Image();
            img.crossOrigin = 'anonymous'; // Enable CORS
            img.src = url;
            img.onload = function() {
                loadedImage = img;
                updateButton();
                showToast('Image charg√©e avec succ√®s depuis l\'URL!', 'success');
            };
            img.onerror = function() {
                loadedImage = null;
                currentButton.imageUrl = "";
                document.getElementById('imageUrl').value = "";
                updateButton();
                showToast('Impossible de charger l\'image depuis cette URL. V√©rifiez l\'URL ou les restrictions CORS.', 'error');
            };
        }

        // Apply gradient
        function applyGradient(colors) {
            document.getElementById('color1').value = colors[0];
            document.getElementById('color2').value = colors[1];
            document.getElementById('backgroundType').value = 'gradient';
            currentButton.color1 = colors[0];
            currentButton.color2 = colors[1];
            currentButton.backgroundType = 'gradient';
            updateButton();
        }

        // Update button with all current settings
        function updateButton() {
            if (!canvas || !ctx) return;

            // Get all values from form
            currentButton.text = document.getElementById('customText').value;
            currentButton.shape = document.getElementById('buttonShape').value;
            currentButton.size = document.getElementById('buttonSize').value;
            currentButton.backgroundType = document.getElementById('backgroundType').value;
            currentButton.color1 = document.getElementById('color1').value;
            currentButton.color2 = document.getElementById('color2').value;
            currentButton.textColor = document.getElementById('textColor').value;
            currentButton.iconPosition = document.getElementById('iconPosition').value;
            currentButton.textSize = parseInt(document.getElementById('textSize').value);
            currentButton.iconSize = parseInt(document.getElementById('iconSize').value);
            currentButton.imageOffsetX = parseInt(document.getElementById('imageOffsetX').value);
            currentButton.imageOffsetY = parseInt(document.getElementById('imageOffsetY').value);
            currentButton.imageOpacity = parseFloat(document.getElementById('imageOpacity').value);
            currentButton.borderStyle = document.getElementById('borderStyle').value;
            currentButton.borderWidth = parseInt(document.getElementById('borderWidth').value);
            currentButton.borderColor = document.getElementById('borderColor').value;
            currentButton.effects.glow = document.getElementById('glowEffect').checked;
            currentButton.effects.shadow = document.getElementById('shadowEffect').checked;
            currentButton.effects.stroke = document.getElementById('strokeEffect').checked;
            currentButton.effects.animated = document.getElementById('animatedEffect').checked;
            currentButton.effects.hover = document.getElementById('hoverEffect').checked;
            currentButton.intensity = document.getElementById('effectIntensity').value;

            // Draw button
            drawAdvancedButton();

            // Handle animation
            if (currentButton.effects.animated) {
                startAnimation();
            } else {
                stopAnimation();
                drawAdvancedButton();
            }
        }

        // Advanced button drawing with all effects
        function drawAdvancedButton(animationTime = 0) {
            if (!ctx) return;

            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Calculate size based on setting
            let baseWidth = 200, baseHeight = 60;
            switch(currentButton.size) {
                case 'small': baseWidth = 150; baseHeight = 45; break;
                case 'large': baseWidth = 250; baseHeight = 75; break;
                case 'xl': baseWidth = 300; baseHeight = 90; break;
            }

            const x = (canvas.width - baseWidth) / 2;
            const y = (canvas.height - baseHeight) / 2;
            const width = baseWidth;
            const height = baseHeight;

            ctx.save();

            // Animation transform
            if (currentButton.effects.animated) {
                const pulse = 1 + Math.sin(animationTime * 0.005) * 0.1;
                ctx.translate(canvas.width / 2, canvas.height / 2);
                ctx.scale(pulse, pulse);
                ctx.translate(-canvas.width / 2, -canvas.height / 2);
            }

            // Hover effect
            if (currentButton.effects.hover && isHovering) {
                ctx.translate(canvas.width / 2, canvas.height / 2);
                ctx.scale(1.1, 1.1);
                ctx.translate(-canvas.width / 2, -canvas.height / 2);
            }

            // Glow effect
            if (currentButton.effects.glow) {
                const intensity = currentButton.intensity / 100;
                ctx.shadowColor = currentButton.color1;
                ctx.shadowBlur = 20 * intensity;
                ctx.shadowOffsetX = 0;
                ctx.shadowOffsetY = 0;
            }

            // Shadow effect
            if (currentButton.effects.shadow && !currentButton.effects.glow) {
                const intensity = currentButton.intensity / 100;
                ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
                ctx.shadowBlur = 10 * intensity;
                ctx.shadowOffsetX = 5 * intensity;
                ctx.shadowOffsetY = 5 * intensity;
            }

            // Draw background based on type
            switch(currentButton.backgroundType) {
                case 'gradient':
                    const gradient = ctx.createLinearGradient(x, y, x + width, y + height);
                    gradient.addColorStop(0, currentButton.color1);
                    gradient.addColorStop(1, currentButton.color2);
                    ctx.fillStyle = gradient;
                    break;
                case 'rainbow':
                    const rainbowGradient = ctx.createLinearGradient(x, y, x + width, y);
                    rainbowGradient.addColorStop(0, '#ff0000');
                    rainbowGradient.addColorStop(0.17, '#ff8800');
                    rainbowGradient.addColorStop(0.33, '#ffff00');
                    rainbowGradient.addColorStop(0.5, '#00ff00');
                    rainbowGradient.addColorStop(0.67, '#0088ff');
                    rainbowGradient.addColorStop(0.83, '#0000ff');
                    rainbowGradient.addColorStop(1, '#8800ff');
                    ctx.fillStyle = rainbowGradient;
                    break;
                default:
                    ctx.fillStyle = currentButton.color1;
            }

            // Draw shape
            switch(currentButton.shape) {
                case 'circle':
                    ctx.beginPath();
                    ctx.arc(x + width/2, y + height/2, Math.min(width, height)/2, 0, 2 * Math.PI);
                    break;
                case 'hexagon':
                    drawHexagon(x + width/2, y + height/2, Math.min(width, height)/2);
                    break;
                case 'rectangle':
                    ctx.fillRect(x, y, width, height);
                    break;
                default: // rounded
                    drawRoundedRect(x, y, width, height, 12);
            }

            if (currentButton.shape !== 'rectangle') {
                ctx.fill();
            }

            // Border effect
            if (currentButton.borderStyle !== 'none' && currentButton.borderWidth > 0) {
                ctx.strokeStyle = currentButton.borderColor;
                ctx.lineWidth = currentButton.borderWidth;
                switch(currentButton.borderStyle) {
                    case 'dashed':
                        ctx.setLineDash([10, 5]);
                        break;
                    case 'dotted':
                        ctx.setLineDash([2, 5]);
                        break;
                    default:
                        ctx.setLineDash([]);
                }
                ctx.stroke();
                ctx.setLineDash([]);
            }

            // Stroke effect
            if (currentButton.effects.stroke) {
                ctx.strokeStyle = currentButton.textColor;
                ctx.lineWidth = 3;
                ctx.stroke();
            }

            // Reset shadow for content
            ctx.shadowColor = 'transparent';
            ctx.shadowBlur = 0;
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 0;

            // Calculate content layout
            const hasImage = loadedImage !== null && currentButton.imageUrl;
            const hasEmoji = currentButton.emoji && currentButton.emoji !== '' && !hasImage;
            const hasText = currentButton.text && currentButton.text !== '';
            const iconPosition = currentButton.iconPosition;
            const textSize = currentButton.textSize;
            const iconSize = currentButton.iconSize;
            const imageOffsetX = currentButton.imageOffsetX;
            const imageOffsetY = currentButton.imageOffsetY;

            let textX = x + width / 2;
            let textY = y + height / 2;
            let iconX, iconY;

            if (hasImage || hasEmoji) {
                const contentSpacing = height * 0.05;

                switch(iconPosition) {
                    case 'top':
                        iconY = y + height * 0.15 + imageOffsetY;
                        iconX = x + (width - iconSize) / 2 + imageOffsetX;
                        if (hasText) {
                            textY = iconY + iconSize + contentSpacing;
                        }
                        break;
                    case 'bottom':
                        iconY = y + height * 0.65 + imageOffsetY;
                        iconX = x + (width - iconSize) / 2 + imageOffsetX;
                        if (hasText) {
                            textY = iconY - iconSize - contentSpacing;
                        }
                        break;
                    case 'left':
                        iconX = x + width * 0.1 + imageOffsetX;
                        iconY = y + (height - iconSize) / 2 + imageOffsetY;
                        if (hasText) {
                            textX = x + width * 0.6;
                            textY = y + height / 2;
                        }
                        break;
                    case 'right':
                        iconX = x + width * 0.5 + imageOffsetX;
                        iconY = y + (height - iconSize) / 2 + imageOffsetY;
                        if (hasText) {
                            textX = x + width * 0.4;
                            textY = y + height / 2;
                        }
                        break;
                    case 'center':
                        iconX = x + (width - iconSize) / 2 + imageOffsetX;
                        iconY = y + (height - iconSize) / 2 + imageOffsetY;
                        if (hasText) {
                            textY = y + height * 0.75;
                        }
                        break;
                }
            }

            // Draw image if loaded
            if (hasImage && loadedImage) {
                ctx.save();
                ctx.globalAlpha = currentButton.imageOpacity;
                ctx.drawImage(loadedImage, iconX, iconY, iconSize, iconSize);
                ctx.restore();
            }
            // Draw emoji only if no image is loaded
            else if (hasEmoji) {
                ctx.save();
                ctx.globalAlpha = currentButton.imageOpacity;
                ctx.font = `${iconSize}px Arial`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillStyle = currentButton.textColor;
                ctx.fillText(currentButton.emoji, iconX + iconSize / 2, iconY + iconSize / 2);
                ctx.restore();
            }

            // Draw text
            if (hasText) {
                ctx.fillStyle = currentButton.textColor;
                ctx.font = `bold ${textSize}px Inter, sans-serif`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(currentButton.text, textX, textY);
            }

            ctx.restore();
        }

        // Draw hexagon
        function drawHexagon(centerX, centerY, radius) {
            ctx.beginPath();
            for (let i = 0; i < 6; i++) {
                const angle = (i * Math.PI) / 3;
                const x = centerX + radius * Math.cos(angle);
                const y = centerY + radius * Math.sin(angle);
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.closePath();
        }

        // Draw rounded rectangle
        function drawRoundedRect(x, y, width, height, radius) {
            ctx.beginPath();
            ctx.moveTo(x + radius, y);
            ctx.lineTo(x + width - radius, y);
            ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
            ctx.lineTo(x + width, y + height - radius);
            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
            ctx.lineTo(x + radius, y + height);
            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
            ctx.lineTo(x, y + radius);
            ctx.quadraticCurveTo(x, y, x + radius, y);
            ctx.closePath();
        }

        // Animation functions
        function startAnimation() {
            if (animationFrame) return;
            
            function animate(timestamp) {
                drawAdvancedButton(timestamp);
                animationFrame = requestAnimationFrame(animate);
            }
            animationFrame = requestAnimationFrame(animate);
        }

        function stopAnimation() {
            if (animationFrame) {
                cancelAnimationFrame(animationFrame);
                animationFrame = null;
            }
        }

        // Clear canvas
        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            showToast('Canvas effac√©!', 'info');
        }

        // Refresh canvas
        function refreshCanvas() {
            updateButton();
            showToast('Canvas actualis√©!', 'info');
        }

        // Download image with high quality
        function downloadImage(format) {
            const exportCanvas = document.createElement('canvas');
            const exportCtx = exportCanvas.getContext('2d');
            exportCanvas.width = 800;
            exportCanvas.height = 600;
            
            const originalCanvas = canvas;
            const originalCtx = ctx;
            canvas = exportCanvas;
            ctx = exportCtx;
            
            exportCtx.scale(2, 2);
            drawAdvancedButton();
            
            canvas = originalCanvas;
            ctx = originalCtx;
            
            const link = document.createElement('a');
            const filename = `roblox-button-${currentButton.text.toLowerCase().replace(/\s+/g, '-')}.${format}`;
            link.download = filename;
            link.href = exportCanvas.toDataURL(`image/${format}`, format === 'jpeg' ? 0.9 : 1);
            link.click();
            
            showToast(`Image HD t√©l√©charg√©e en ${format.toUpperCase()}!`, 'success');
        }

        // Generate Roblox code
        function generateRobloxCode() {
            const buttonName = currentButton.text.replace(/\s+/g, '');
            const imageSize = currentButton.iconSize / 100; // Normalize for Roblox
            const imageOffsetX = currentButton.imageOffsetX / 100;
            const imageOffsetY = currentButton.imageOffsetY / 100;
            
            const robloxCode = `-- ${currentButton.text} Button g√©n√©r√© par RobloxAI
local ${buttonName}Button = Instance.new("TextButton")
local UICorner = Instance.new("UICorner")
local UIGradient = Instance.new("UIGradient")
local UIStroke = Instance.new("UIStroke")
${currentButton.imageUrl || currentButton.emoji ? `local Icon = Instance.new("ImageLabel")` : ''}

-- Configuration du bouton
${buttonName}Button.Name = "${buttonName}Button"
${buttonName}Button.Size = UDim2.new(0, ${currentButton.size === 'small' ? 150 : currentButton.size === 'large' ? 250 : currentButton.size === 'xl' ? 300 : 200}, 0, ${currentButton.size === 'small' ? 45 : currentButton.size === 'large' ? 75 : currentButton.size === 'xl' ? 90 : 60})
${buttonName}Button.Position = UDim2.new(0.5, ${-(currentButton.size === 'small' ? 75 : currentButton.size === 'large' ? 125 : currentButton.size === 'xl' ? 150 : 100)}, 0.5, ${-(currentButton.size === 'small' ? 22.5 : currentButton.size === 'large' ? 37.5 : currentButton.size === 'xl' ? 45 : 30)})
${buttonName}Button.BackgroundColor3 = Color3.fromHex("${currentButton.color1}")
${buttonName}Button.Text = "${currentButton.text}"
${buttonName}Button.TextColor3 = Color3.fromHex("${currentButton.textColor}")
${buttonName}Button.TextSize = ${currentButton.textSize}
${buttonName}Button.Font = Enum.Font.SourceSansBold
${buttonName}Button.BackgroundTransparency = ${currentButton.imageOpacity < 1 ? currentButton.imageOpacity : 0}

-- Coin arrondi
UICorner.CornerRadius = UDim.new(0, ${currentButton.shape === 'circle' ? 50 : currentButton.shape === 'rounded' ? 12 : 0})
UICorner.Parent = ${buttonName}Button

${currentButton.backgroundType === 'gradient' ? `-- Gradient
UIGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromHex("${currentButton.color1}")),
    ColorSequenceKeypoint.new(1, Color3.fromHex("${currentButton.color2}"))
}
UIGradient.Rotation = 45
UIGradient.Parent = ${buttonName}Button` : ''}

${currentButton.borderStyle !== 'none' ? `-- Bordure
UIStroke.Thickness = ${currentButton.borderWidth}
UIStroke.Color = Color3.fromHex("${currentButton.borderColor}")
${currentButton.borderStyle === 'dashed' ? 'UIStroke.LineJoinMode = Enum.LineJoinMode.Miter\nUIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border' : ''}
${currentButton.borderStyle === 'dotted' ? 'UIStroke.LineJoinMode = Enum.LineJoinMode.Round\nUIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border' : ''}
UIStroke.Parent = ${buttonName}Button` : ''}

${currentButton.imageUrl ? `-- Image
Icon.Name = "Icon"
Icon.Parent = ${buttonName}Button
Icon.Size = UDim2.new(0, ${currentButton.iconSize}, 0, ${currentButton.iconSize})
Icon.Image = "${currentButton.imageUrl}"
Icon.BackgroundTransparency = 1
Icon.Position = UDim2.new(${currentButton.iconPosition === 'left' ? '0.1' : currentButton.iconPosition === 'right' ? '0.5' : '0.5'}, ${imageOffsetX}, ${currentButton.iconPosition === 'top' ? '0.15' : currentButton.iconPosition === 'bottom' ? '0.65' : currentButton.iconPosition === 'center' ? '0.5' : '0.5'}, ${imageOffsetY})
Icon.ImageTransparency = ${1 - currentButton.imageOpacity}` : currentButton.emoji && !currentButton.imageUrl ? `-- Emoji
Icon.Name = "Icon"
Icon.Parent = ${buttonName}Button
Icon.Size = UDim2.new(0, ${currentButton.iconSize}, 0, ${currentButton.iconSize})
Icon.Image = "rbxassetid://0" -- Remplacer par l'ID de l'emoji "${currentButton.emoji}"
Icon.BackgroundTransparency = 1
Icon.Position = UDim2.new(${currentButton.iconPosition === 'left' ? '0.1' : currentButton.iconPosition === 'right' ? '0.5' : '0.5'}, ${imageOffsetX}, ${currentButton.iconPosition === 'top' ? '0.15' : currentButton.iconPosition === 'bottom' ? '0.65' : currentButton.iconPosition === 'center' ? '0.5' : '0.5'}, ${imageOffsetY})
Icon.ImageTransparency = ${1 - currentButton.imageOpacity}` : ''}

${currentButton.effects.glow ? `-- Effet Glow
${buttonName}Button.BackgroundTransparency = 0.1
local SelectionBox = Instance.new("SelectionBox")
SelectionBox.Color3 = Color3.fromHex("${currentButton.color1}")
SelectionBox.Transparency = ${1 - (currentButton.intensity / 100)}
SelectionBox.Adornee = ${buttonName}Button
SelectionBox.Parent = ${buttonName}Button` : ''}

${currentButton.effects.hover ? `-- Effet Hover
${buttonName}Button.MouseEnter:Connect(function()
    ${buttonName}Button:TweenSize(UDim2.new(0, ${currentButton.size === 'small' ? 165 : currentButton.size === 'large' ? 275 : currentButton.size === 'xl' ? 330 : 220}, 0, ${currentButton.size === 'small' ? 50 : currentButton.size === 'large' ? 83 : currentButton.size === 'xl' ? 99 : 66}), "Out", "Quad", 0.2)
end)

${buttonName}Button.MouseLeave:Connect(function()
    ${buttonName}Button:TweenSize(UDim2.new(0, ${currentButton.size === 'small' ? 150 : currentButton.size === 'large' ? 250 : currentButton.size === 'xl' ? 300 : 200}, 0, ${currentButton.size === 'small' ? 45 : currentButton.size === 'large' ? 75 : currentButton.size === 'xl' ? 90 : 60}), "Out", "Quad", 0.2)
end)` : ''}

-- √âv√©nement de clic
${buttonName}Button.MouseButton1Click:Connect(function()
    print("${currentButton.text} cliqu√©!")
    -- Ajoutez votre logique ici
end)`;

            document.getElementById('robloxCode').textContent = robloxCode;
            document.getElementById('robloxCodeOutput').classList.remove('hidden');
            showToast('Code Roblox g√©n√©r√©!', 'success');
        }

        // Copy Roblox code
        function copyRobloxCode() {
            const code = document.getElementById('robloxCode').textContent;
            navigator.clipboard.writeText(code).then(() => {
                showToast('Code Roblox copi√©!', 'success');
            }).catch(() => {
                showToast('Erreur lors de la copie.', 'error');
            });
        }

        // Use template
        function useTemplate(templateType) {
            const templates = {
                gaming: `-- Menu Gaming Moderne
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local TitleLabel = Instance.new("TextLabel")
local PlayButton = Instance.new("TextButton")
local ShopButton = Instance.new("TextButton")
local SettingsButton = Instance.new("TextButton")
local QuitButton = Instance.new("TextButton")

ScreenGui.Name = "GamingMenu"
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.Size = UDim2.new(0, 400, 0, 500)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -250)
MainFrame.BackgroundColor3 = Color3.fromRGB(13, 17, 23)
MainFrame.BorderSizePixel = 0

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = MainFrame

TitleLabel.Name = "TitleLabel"
TitleLabel.Parent = MainFrame
TitleLabel.Size = UDim2.new(1, 0, 0, 60)
TitleLabel.Position = UDim2.new(0, 0, 0, 20)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "MENU PRINCIPAL"
TitleLabel.TextColor3 = Color3.fromRGB(0, 162, 255)
TitleLabel.TextScaled = true
TitleLabel.Font = Enum.Font.SourceSansBold`,
                shop: `-- Interface Boutique
local ScreenGui = Instance.new("ScreenGui")
local ShopFrame = Instance.new("Frame")
local HeaderFrame = Instance.new("Frame")
local TitleLabel = Instance.new("TextLabel")
local CoinsLabel = Instance.new("TextLabel")
local ItemsFrame = Instance.new("Frame")

ScreenGui.Name = "ShopGui"
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

ShopFrame.Name = "ShopFrame"
ShopFrame.Parent = ScreenGui
ShopFrame.Size = UDim2.new(0, 600, 0, 400)
ShopFrame.Position = UDim2.new(0.5, -300, 0.5, -200)
ShopFrame.BackgroundColor3 = Color3.fromRGB(21, 26, 35)
ShopFrame.BorderSizePixel = 0`,
                settings: `-- Panneau de Param√®tres
local ScreenGui = Instance.new("ScreenGui")
local SettingsFrame = Instance.new("Frame")
local TitleLabel = Instance.new("TextLabel")
local VolumeSlider = Instance.new("Frame")
local GraphicsToggle = Instance.new("TextButton")

ScreenGui.Name = "SettingsGui"
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

SettingsFrame.Name = "SettingsFrame"
SettingsFrame.Parent = ScreenGui
SettingsFrame.Size = UDim2.new(0, 450, 0, 350)
SettingsFrame.Position = UDim2.new(0.5, -225, 0.5, -175)
SettingsFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
SettingsFrame.BorderSizePixel = 0`
            };

            const code = templates[templateType];
            if (code) {
                navigator.clipboard.writeText(code).then(() => {
                    showToast(`Template ${templateType} copi√© dans le presse-papiers!`, 'success');
                }).catch(() => {
                    showToast('Erreur lors de la copie du template.', 'error');
                });
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initCanvas();
        });
    </script>
</body>
</html>
